(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(73)},45:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);a(40);var n=a(0),o=a.n(n),r=a(33),s=a.n(r),c=(a(45),a(2)),i=a(3),l=a(5),u=a(4),m=a(6),d=a(76),p=a(75),h=a(19),v=a.n(h),f=a(13),b=a.n(f),g=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},E=function(e){return{type:"SET_CURRENT_USER",payload:e}},y=a(9),O=a(16),N=a(35),w=a(18),j=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},k={isAuthenticated:!1,user:{}},S={isAuthenticated:!1,user:{}},C=a(38),T={todos:[],todo:{},loading:!1},R=Object(O.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(w.a)({},e,{isAuthenticated:!j(t.payload),user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return Object(w.a)({},e,{todos:[].concat(Object(C.a)(e.todos),[t.payload])});case"GET_TODOS":return Object(w.a)({},e,{todos:t.payload});case"DELETE_TODO":return Object(w.a)({},e,{todos:e.todos.filter(function(e){return e._id!==t.payload})});default:return e}}}),_=[N.a],x=Object(O.e)(R,{},Object(O.d)(O.a.apply(void 0,_),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),D=a(74),A=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=o.a.createElement("ul",{className:"navbar-nav ml-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(D.a,{className:"nav-link",onClick:this.onLogoutClick.bind(this),to:"#"},"Logout ",a.name))),r=o.a.createElement("ul",{className:"navbar-nav ml-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(D.a,{className:"nav-link",to:"/register"},"Sign Up")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(D.a,{className:"nav-link",to:"/login"},"Login")));return o.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},o.a.createElement("div",{className:"container"},o.a.createElement(D.a,{className:"navbar-brand",to:"/todo"},"Todo App"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},t?n:r)))}}]),t}(n.Component),U=Object(y.b)(function(e){return{auth:e.auth}},{logoutUser:function(){return function(e){localStorage.removeItem("jwtToken"),g(!1),e(E({}))}}})(A);function L(){return o.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"},"Copyright \xa9 2019 Todo App")}var W=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/todo")}},{key:"render",value:function(){return o.a.createElement("div",{className:"landing"},o.a.createElement("div",{className:"dark-overlay landing-inner text-light"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 text-center"},o.a.createElement("h1",{className:"display-3 mb-4"},"Todo App"),o.a.createElement("p",{className:"lead"},"Help you keep a record of all the tasks"),o.a.createElement("hr",null),o.a.createElement(D.a,{to:"/register",className:"btn btn-lg btn-info mr-2"},"Sign Up"),o.a.createElement(D.a,{to:"/login",className:"btn btn-lg btn-light"},"Login"))))))}}]),t}(n.Component),P=Object(y.b)(function(e){return{auth:e.auth}})(W),G=a(15),I=a(10),M=a(77),X=a(12),q=a.n(X),z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={name:"",email:"",password:"",password2:"",errors:{}},e.onChange=e.onChange.bind(Object(I.a)(e)),e.onSubmit=e.onSubmit.bind(Object(I.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/todo")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,password2:this.state.password2};console.log(t),this.props.registerUser(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"register"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8 m-auto"},o.a.createElement("h1",{className:"display-4 text-center"},"Sign Up"),o.a.createElement("p",{className:"lead text-center"},"Create your Todo App account"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:q()("form-control form-control-lg",{"is-invalid":e.name}),placeholder:"Name",name:"name",value:this.state.name,onChange:this.onChange,required:!0}),e.name&&o.a.createElement("div",{className:"invalid-feedback"},e.name)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"email",className:q()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&o.a.createElement("div",{className:"invalid-feedback"},e.email)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:q()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&o.a.createElement("div",{className:"invalid-feedback"},e.password)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:q()("form-control form-control-lg",{"is-invalid":e.password2}),placeholder:"Confirm Password",name:"password2",value:this.state.password2,onChange:this.onChange}),e.password2&&o.a.createElement("div",{className:"invalid-feedback"},e.password2)),o.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),B=Object(y.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){b.a.post("https://damp-everglades-11634.herokuapp.com/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(M.a)(z)),J=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(I.a)(e)),e.onSubmit=e.onSubmit.bind(Object(I.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/todo")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/todo"),e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log(t),this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"login"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-8 m-auto"},o.a.createElement("h1",{className:"display-4 text-center"},"Log In"),o.a.createElement("p",{className:"lead text-center"},"Sign in to your Todo App account"),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"email",className:q()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&o.a.createElement("div",{className:"invalid-feedback"},e.email)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:q()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&o.a.createElement("div",{className:"invalid-feedback"},e.password)),o.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),V=Object(y.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){b.a.post("https://damp-everglades-11634.herokuapp.com/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),g(a);var n=v()(a);t(E(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(J),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={text:"",errors:{}},a.onChange=a.onChange.bind(Object(I.a)(a)),a.onSubmit=a.onSubmit.bind(Object(I.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value)),this.setState({errors:{}})}},{key:"onSubmit",value:function(e){e.preventDefault();this.props.auth.user;var t={text:this.state.text};console.log(t),this.props.addTodo(t),this.setState({text:""})}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"post-form mb-3"},o.a.createElement("div",{className:"card card-info"},o.a.createElement("div",{className:"card-header bg-info text-white"},"Tasks to be done..."),o.a.createElement("div",{className:"card-body"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:q()("form-control form-control-lg",{"is-invalid":e.text}),placeholder:"Name",name:"text",value:this.state.text,onChange:this.onChange,required:!0}),e.text&&o.a.createElement("div",{className:"invalid-feedback"},e.text)),o.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")))))}}]),t}(n.Component),$=Object(y.b)(function(e){return{auth:e.auth,errors:e.errors}},{addTodo:function(e){return function(t){b.a.post("https://damp-everglades-11634.herokuapp.com/api/todos",e).then(function(e){t({type:"ADD_TODO",payload:e.data})}).catch(function(e){t({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(M.a)(H)),F=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onDeleteClick",value:function(e){console.log(e),this.props.deleteTodo(e)}},{key:"render",value:function(){var e=this.props,t=e.todo;e.auth;return o.a.createElement("div",{className:"card card-body mb-3"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-10"},o.a.createElement("p",{className:"lead"},t.text),o.a.createElement("button",{onClick:this.onDeleteClick.bind(this,t._id),type:"button",className:"btn btn-info mr-1"},"Done"))))}}]),t}(n.Component),K=Object(y.b)(function(e){return{auth:e.auth}},{deleteTodo:function(e){return function(t){b.a.delete("https://damp-everglades-11634.herokuapp.com/api/todos/".concat(e)).then(function(a){t({type:"DELETE_TODO",payload:e})}).catch(function(e){t({type:"GET_ERRORS",payload:e.response.data})})}}})(F),Q=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.todos.map(function(e){return o.a.createElement(K,{key:e._id,todo:e})})}}]),t}(n.Component),Y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/"),this.props.getTodos()}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){var e,t=this.props.todo.todos;return e=null===t?o.a.createElement("h1",null,"No TODOS or Loading"):o.a.createElement(Q,{todos:t}),o.a.createElement("div",{className:"feed"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement($,null),e)))}}]),t}(n.Component),Z=Object(y.b)(function(e){return{auth:e.auth,todo:e.todo}},{getTodos:function(){return function(e){b.a.get("https://damp-everglades-11634.herokuapp.com/api/todos").then(function(t){e({type:"GET_TODOS",payload:t.data})}).catch(function(t){e({type:"GET_ERRORS",payload:t.response.data})})}}})(Y);a(72);if(localStorage.jwtToken){g(localStorage.jwtToken);var ee=v()(localStorage.jwtToken);x.dispatch(E(ee))}var te=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(y.a,{store:x},o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(U,null),o.a.createElement(p.a,{exact:!0,path:"/",component:P}),o.a.createElement("div",{className:"container"},o.a.createElement(p.a,{exact:!0,path:"/register",component:B}),o.a.createElement(p.a,{exact:!0,path:"/login",component:V}),o.a.createElement(p.a,{exact:!0,path:"/todo",component:Z})),o.a.createElement(L,null))))}}]),t}(n.Component),ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then(function(e){console.log("Service Worker Registred"),e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(o.a.createElement(te,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/custom-sw.js");ae?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ne(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ne(t,e)}),window.addEventListener("install",function(e){console.log("install")}),window.addEventListener("fetch",function(e){console.log("fetch")})}}()}},[[39,1,2]]]);
//# sourceMappingURL=main.23d97188.chunk.js.map